buildscript {
    repositories {
        jcenter()
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath 'com.gradle.publish:plugin-publish-plugin:0.9.6'
        classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.7.3'
        classpath 'io.spring.gradle:dependency-management-plugin:0.6.0.RELEASE'
        classpath("org.springframework.boot:spring-boot-gradle-plugin:1.3.6.RELEASE")
    }
}


task wrapper(type: Wrapper) {
    gradleVersion = '3.2.1'
}

group 'org.s4s0l.shathel'
subprojects {
    apply plugin: 'groovy'
    apply plugin: 'java'
    apply plugin: 'io.spring.dependency-management'
    archivesBaseName = project.name
    version = version == 'unspecified' ? 'DEVELOPER-SNAPSHOT' : version
    ext {
        tags = ['docker', 'docker-compose', 'gradle', 'spring-boot', 'boot']
        vcsUrl = "https://github.com/s4s0l/shathel.git"
        websiteUrl = "https://github.com/s4s0l/shathel"
        issueTrackerUrl = "https://github.com/s4s0l/shathel/issues"
        license = "Apache-2.0"
        organization = "sasol-oss"
        projectId = "${group}.${project.name}"
        githubRepository = "s4s0l/shathel"
    }
    sourceCompatibility = '1.8'
    targetCompatibility = '1.8'

    repositories {
        jcenter()
    }

    dependencyManagement {
        imports {
            mavenBom 'org.springframework.boot:spring-boot-starter-parent:1.4.1.RELEASE'
            mavenBom 'org.springframework.cloud:spring-cloud-starter-parent:Camden.RELEASE'
        }
    }

    dependencies {
        compile gradleApi()
        compile "org.yaml:snakeyaml:1.16"
        compile 'com.avast.gradle:docker-compose-gradle-plugin:0.3.15'
        compile 'commons-io:commons-io:2.3'
        testCompile 'io.rest-assured:rest-assured:3.0.1'
        testCompile 'junit:junit'
        testCompile('org.spockframework:spock-core:1.0-groovy-2.4') {
            // Conflicting module versions: 2.4.4 vs. 2.4.1
            exclude group: 'org.codehaus.groovy'
        }
    }
}
